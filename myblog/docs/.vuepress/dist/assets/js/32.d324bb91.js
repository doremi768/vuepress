(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{390:function(t,s,a){"use strict";a.r(s);var n=a(42),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"项目概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目概述"}},[t._v("#")]),t._v(" 项目概述")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://lanhuapp.com/url/ZKrGu-N3UoD",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("蓝湖设计稿")]),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://gitee.com/what_and/xinge",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("前端代码")]),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://gitee.com/what_and/xinge-backend",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("后端代码")]),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://pan.baidu.com/s/1Vq5W76RTw44WHcQmXeJIFA",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("接口文档")]),a("OutboundLink")],1),t._v(" 提取码：hcjv")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://pan.baidu.com/s/1st6F6R7F71Ho-phqgKZhZA",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("项目安卓版下载")]),a("OutboundLink")],1),t._v(" 提取码：hcjv")]),t._v(" "),a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),a("p",[t._v("  从辞职到学习前端不知不觉就快半年了，每次感觉时间飞逝的时候要不是在看小说，看电影，或者就是在打游戏。而计算机让我再次感觉到了这种时间飞逝的感觉，我很庆幸在我年轻的时候遇到了计算机，在两年对未来方向的模糊中，终于走了出来，找到了自己应该追寻的答案。")]),t._v(" "),a("p",[t._v("  从半年前最开始信心百倍的学习，到中途的几次不知该学习哪些知识的迷茫，在到现在能完整从原型图设计到前后端代码编写，以及打包上线之后的莫名喜悦，带给了我犹如品菜时酸甜苦辣的感受。")]),t._v(" "),a("p",[t._v("  虽然这个自己设计的小项目我完成的比较残缺，很多最初设想，规划的功能还没有实现，但我决定不再继续了。因为第一次尝试这样进行完整的流程，导致中间写的一些功能，最开始没有想到，但写到后面发现前面的一些逻辑需要修改，这样就会大大消耗时间。这个项目最初我以为十天能完成，结果现在已经进行了两个星期，这两天我犹豫着是否要重构之前的代码，因为着实写的比较乱，但想了想，这样可能又会花费很多天。所以我还是就这样暂时结束这个项目，然后抓紧时间巩固一些基础知识和背面试题。")]),t._v(" "),a("h2",{attrs:{id:"项目构思"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目构思"}},[t._v("#")]),t._v(" 项目构思")]),t._v(" "),a("p",[t._v("  我想过做那种关于看小说的app，但分析后觉得这种类型的数据量会很大，所以排除这类项目。后面无意间使用微信和QQ时，想到要不就做个即时通讯的小项目，并且也可以学习学习 "),a("font",{attrs:{color:"#FA8072"}},[t._v("H5")]),t._v(" 的新技术 "),a("font",{attrs:{color:"#FA8072"}},[t._v("WebSocket")]),t._v(" 。 由于之前做过了H5端，也尝试过了小程序端，所以最终思考后敲定选择用 "),a("font",{attrs:{color:"#FA8072"}},[t._v("uni-app")]),t._v(" 做一款即时通讯的小项目，这样既可以了解了解 "),a("font",{attrs:{color:"#FA8072"}},[t._v("uni-app")]),t._v(" 的生态,并且又可以尝试发布到多端。")],1),t._v(" "),a("h3",{attrs:{id:"ui设计"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ui设计"}},[t._v("#")]),t._v(" UI设计")]),t._v(" "),a("p",[t._v("  其实从开始构思时，我就感觉到了对于目前的我来说，这是一个挑战。为了准备从零完成这个项目，我花了一百元在淘宝买了一个 "),a("font",{attrs:{color:"#FA8072"}},[t._v("UI")]),t._v(" 的课程。通过5天对 "),a("font",{attrs:{color:"#FA8072"}},[t._v("UI")]),t._v(" 初步的了解，勉强能够设计简单的原型图和 "),a("font",{attrs:{color:"#FA8072"}},[t._v("UI")]),t._v("  设计图。对于原型图设计，我采用的是 "),a("font",{attrs:{color:"#FA8072"}},[t._v("Axure RP 8")]),t._v(" 这款软件。设计图我采用的是  "),a("font",{attrs:{color:"#FA8072"}},[t._v("PS 2019")]),t._v(",画图标我使用的是 "),a("font",{attrs:{color:"#FA8072"}},[t._v("AI 2019")]),t._v("。设计完成之后我上传到蓝湖，以便后期开发。")],1),t._v(" "),a("h3",{attrs:{id:"前端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前端"}},[t._v("#")]),t._v(" 前端")]),t._v(" "),a("p",[t._v("  前端采用的框架是 "),a("font",{attrs:{color:"#FA8072"}},[t._v("uni-app")]),t._v("。由于之前做的两个小项目刚好是用 "),a("font",{attrs:{color:"#FA8072"}},[t._v("vue.js ")]),t._v(" 和微信小程序原生开发，所以这次就大概浏览了一些文档，就直接开始开发。我的页面结构目录如下：")],1),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("screen     \n    screen"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vue          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//闪屏图，静态页面")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("login\n    login"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vue           "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//登录页面，采用邮箱和密码的登录方式")]),t._v("\n    signIn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vue          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//注册页面，采用用户名，邮箱，密码的注册方式")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("home\n    home"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vue            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//首页")]),t._v("\n    search"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vue          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//搜索用户页")]),t._v("\n    addFriend"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vue       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//添加用户为好友页")]),t._v("\n    message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vue         "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//发消息页")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("list\n    list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vue            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//通讯录")]),t._v("\n    apply"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vue           "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//用户申请添加好友列表")]),t._v("\n    detail"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vue          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//是否同意添加页")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("friends\n    friends"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vue         "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//朋友圈页")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vue             "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//设置个人信息页")]),t._v("\n    alterName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vue       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//修改用户名页")]),t._v("\n    alterSign"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vue       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//修改个性签名页")]),t._v("\n")])])]),a("h3",{attrs:{id:"后端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#后端"}},[t._v("#")]),t._v(" 后端")]),t._v(" "),a("p",[t._v("  后端我采用的是基于 "),a("font",{attrs:{color:"#FA8072"}},[t._v("Node.js")]),t._v(" 平台的  "),a("font",{attrs:{color:"#FA8072"}},[t._v("Web")]),t._v(" 开发框架 "),a("font",{attrs:{color:"#FA8072"}},[t._v("Express")]),t._v("。对于后端我是畏惧的，而这个框架刚好满足了我简单方便，快速上手的需求。对于构建整体的项目结构目录，最开始我也是被弄的焦头烂额，不过大概分划之后，我觉得还是比较清晰。后端结构目录如下：")],1),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("xinge"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//入口文件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("router\n    router"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//路由")]),t._v("\n    file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js         "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//上传文件路由")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("trim\n    trimData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//整理前端发送请求的数据")]),t._v("\n    jwt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//token验证")]),t._v("\n    bcryptjs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//用户个人信息加密")]),t._v("\n    mkdir"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//自动创建文件存储目录")]),t._v("\n    socket"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//前后端双向通讯")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("files              "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//保存前端需保存的数据文件夹")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("controllers\n    db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js           "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//连接数据库")]),t._v("\n    sendEmail"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//邮件发送")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("model\n    dbmodel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//定义schema")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("dbCRDU\n    users"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//用户信息表")]),t._v("\n    fiendList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//用户关系表")]),t._v("\n    messages"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//一对一消息表")]),t._v("\n")])])]),a("h3",{attrs:{id:"数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据库"}},[t._v("#")]),t._v(" 数据库")]),t._v(" "),a("p",[t._v("  数据库我选择的是 "),a("font",{attrs:{color:"#FA8072"}},[t._v("MongoDB")]),t._v("，然后采用对象模型工具"),a("font",{attrs:{color:"#FA8072"}},[t._v("Mongoose")]),t._v("来操作数据库。原因还是简单，便捷，对于我的项目需求，学习成本较低。这个项目我定义了三个"),a("font",{attrs:{color:"#FA8072"}},[t._v("schema")]),t._v("，如下：")],1),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" userSchema "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" mongoose"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Schema")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("Schema"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Types"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ObjectId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                           "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//用户id")]),t._v("\n    imgUrl"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                 "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//头像")]),t._v("\n    username"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                                   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//用户名")]),t._v("\n    email"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                                      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//邮箱")]),t._v("\n    sex"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//性别")]),t._v("\n    birthDay"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1997-07-28'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//生日")]),t._v("\n    signature"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("             "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//签名")]),t._v("\n    password"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                                   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//密码")]),t._v("\n    signTime"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Date                                      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//注册时间")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" friendListSchema "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" mongoose"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Schema")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("Schema"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Types"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ObjectId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                             "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//id")]),t._v("\n  userId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Schema"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Types"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ObjectId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ref"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'users'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//用户id")]),t._v("\n  meId"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Schema"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Types"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ObjectId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ref"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'users'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//自己的id")]),t._v("\n  remark"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                                       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//发送好友请求的备注")]),t._v("\n  friendStatus"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                                 "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//与用户的状态")]),t._v("\n  time"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Date                                            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//发送请求的时间")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" MessageSchema "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Schema")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  userId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Schema"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Types"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ObjectId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ref"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'users'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//用户Id")]),t._v("\n  id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Schema"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Types"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ObjectId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ref"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'users'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//自己的id")]),t._v("\n  img"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                                          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//头像")]),t._v("\n  message"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                                      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//消息")]),t._v("\n  type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                                         "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//消息类型")]),t._v("\n  tip"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                                          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//消息编号")]),t._v("\n  state"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                                        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//是否已读")]),t._v("\n  time"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Date                                            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//发送消息的时间")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);